:root {
   /* colors */
   --main-background: #e9e9f3;
   --main-color: #1e1e29;
   --card-background: #ffffff;
   --outline-color: #d0d0e2;
   --border-color: #5d5772;
   --inner-card-background: #eeeeff;

   /* text */
   --card-color: #1b1b2d;
   --card-color-pastel: #7171b9;
   --inner-card-color: #1b1b2d;
   --special-color: #7a6ff4;
   --disabled-color: #91919c;
   --error-color: #be7f7f;
   --font-weight-thin: 300;
   --font-weight-normal: 450;
   --font-weight-semibold: 640;
   --font-weight-bold: 760;
   --font-weight-extrabold: 860;

   /* buttons */
   --button-height: 40px;
   --button-background-hover: #eeeeff;
   --button-background-active: #ddddff;

   /* dimensions */
   --card-radius: 32px;
   --card-padding: 16px 20px;
   --card-gap: 8px;
   --inner-card-radius: 16px;
   --inner-card-padding: 8px;
   --sidebar-width: 80px;

   /* transition */
   --transition-duration: 0.2s;
   --transition-opts: var(--transition-duration) ease;

   /* calendar */
   --calendar-day-size: 30px;
   --calendar-gap: 4px;
   --calendar-font-size: 0.85rem;

   /* timetable */
   --timetable-header-height: 64px;

   @media (prefers-reduced-motion: reduce) {
      --transition-opts: none;
   }
}

:root {
   font-family: Inter, sans-serif;
   font-feature-settings: 'liga' 1, 'calt' 1, "ss01" 1, "sso4" 1, "cs01" 1, "cv06" 1, "cv08" 1, "cv10" 1, "cv11" 1, "cv13" 1;
   font-weight: var(--font-weight-normal);

   @supports (font-variation-settings: normal) {
      font-family: InterVariable, sans-serif;
   }
}

body {
   display: flex;
   flex-direction: row;
   background: var(--main-background);
   color: var(--main-color);
   margin: 0;
}

#sidebar {
   height: 100vh;
   width: var(--sidebar-width);
}

main {
   margin: 8px;
   display: flex;
   flex-direction: column;
   flex: 1;
}

button {
   all: initial;
   font: inherit;
   color: inherit;
   cursor: pointer;
}

.card {
   background-color: var(--card-background);
   color: var(--card-color);
   border-radius: var(--card-radius);
   padding: var(--card-padding);
   display: flex;
   flex-direction: column;
   flex: 1;

   & .title {
      font-size: 1.2rem;
      font-weight: var(--font-weight-semibold);
      letter-spacing: .02rem;
      margin: 0;

      &#logoTitle {
         font-size: 1.8rem;
         font-weight: var(--font-weight-bold);
         display: flex;
         align-items: baseline;
         gap: 4px;
         padding-inline: 8px;
      }
   }
}

.inner-card {
   background-color: var(--inner-card-background);
   color: var(--inner-card-color);
   border-radius: var(--inner-card-radius);
   padding: var(--inner-card-padding);
}

#topbar {
   display: flex;
   align-items: center;
   padding-bottom: 8px;
   border-bottom: 1px solid var(--outline-color);

   & ul {
      margin-inline-start: auto;
      margin-block: 0;
      padding: 0;
      display: flex;
      list-style: none;
      gap: 12px;

      & button {
         display: flex;
         align-items: center;
         padding-inline: 16px;
         height: var(--button-height);
         gap: 8px;
         border-radius: calc(var(--button-height) / 2);
         transition: background-color var(--transition-opts);

         &:hover {
            background-color: var(--button-background-hover);
         }

         &.active {
            background-color: var(--button-background-active);
         }
      }
   }
}

#content {
   display: flex;
   gap: var(--card-gap);
   flex: 1;
   padding-top: 12px;

   & .calendar-container {
      display: flex;
      flex-direction: column;
      gap: 8px;
      height: fit-content;

      & .calendar-head {
         display: flex;
         align-items: center;
         justify-content: space-between;
         position: relative;

         & .calendar-head-title {
            font-size: 1.4rem;
            line-height: 1.5;

            & #currentMonth {
               font-weight: var(--font-weight-bold);
            }

            & #currentYear {
               font-weight: var(--font-weight-thin);
            }
         }

         & button {
            width: var(--calendar-day-size);
            text-align: center;
            line-height: 1.8;
         }
      }

      & .calendar-body {

         & .calendar-body-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-weight: var(--font-weight-semibold);
            margin-bottom: 8px;
            padding-inline: var(--calendar-gap);
         }

         & .calendar-body-grid {
            display: flex;
            flex-direction: column;
            gap: var(--calendar-gap);
            background-color: var(--card-background);
            padding: var(--calendar-gap);
            border-radius: calc(var(--inner-card-radius) - var(--inner-card-padding));
         }

         & span {
            width: var(--calendar-day-size);
            height: var(--calendar-day-size);
            font-size: var(--calendar-font-size);
            border-radius: calc(var(--calendar-day-size) / 2);
            display: flex;
            align-items: center;
            justify-content: center;
            box-sizing: border-box;
         }

         & .week {
            display: flex;
            border-radius: calc(var(--calendar-day-size) / 2 + 4px);
            gap: calc(var(--calendar-gap) / 2);
            box-sizing: border-box;
            border: 2px solid transparent;
            transition: background-color var(--transition-opts), border-color var(--transition-opts);
         }

         & .day {
            cursor: pointer;
            border: 2px solid transparent;
            border-radius: calc(var(--calendar-day-size) / 2 + 4px);
            transition: background-color var(--transition-opts), border-color var(--transition-opts);

            & span {
               transition: background-color var(--transition-opts);
            }

            &.holiday {
               color: var(--error-color);
               font-weight: var(--font-weight-thin);
            }

            &.prev,
            &.next {
               color: var(--disabled-color);
            }
         }
      }
   }

   & .timetable-container {
      flex: 1;

      & .timetable-header {
         display: flex;
         gap: var(--card-gap);

         & .inner-card {
            width: fit-content;
            box-sizing: border-box;
            height: var(--timetable-header-height);

            &.reset {
               width: var(--timetable-header-height);
               border-radius: calc(var(--timetable-header-height) / 2);
               display: flex;
               align-items: center;
               justify-content: center;

               & button {
                  height: var(--button-height);
                  aspect-ratio: 1;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  border-radius: calc(var(--button-height) / 2);
                  transition: background-color var(--transition-opts);

                  &:hover {
                     background-color: var(--button-background-active);
                  }
               }
            }
         }
      }
   }

   &[view="day"] {

      & #timetableWeek,
      #timetableMonth {
         display: none;
      }

      #timetableDay {
         display: grid;
         text-transform: uppercase;
         font-size-adjust: ex-height .7;
         line-height: 1;
         padding: 12px 16px;
         gap: 4px;

         & .day {
            font-size: 1rem;
            text-align: center;
            font-weight: var(--font-weight-thin);
            grid-row: 1;
            grid-column: 1;
            align-self: end;
            text-align: end;
         }

         & .month {
            font-size: 1rem;
            grid-row: 2;
            grid-column: 1;
            align-self: end;
            text-align: end;
            font-weight: var(--font-weight-bold);
         }

         & .date {
            font-size: 2.6rem;
            grid-row: span 2;
            grid-column: 2;
            color: var(--special-color);
            font-weight: var(--font-weight-extrabold);
         }
      }

      & .day {

         &:hover span {
            background-color: var(--button-background-hover);
         }

         &.active {
            border-color: var(--border-color);
            box-sizing: border-box;

            & span {
               background-color: var(--button-background-active);
            }

            &.today {
               border-color: transparent;
               background-color: var(--border-color);
            }
         }

         &.today span {
            background-color: var(--card-color-pastel);
            color: var(--inner-card-background);
         }
      }
   }

   &[view="week"] {

      & #timetableDay,
      #timetableMonth {
         display: none;
      }

      #timetableWeek {
         display: grid;
         text-transform: uppercase;
         font-size-adjust: ex-height .7;
         line-height: 1;
         padding: 12px 16px;
         border-radius: 100vh;

         & .start-month {
            font-size: 1rem;
            grid-row: 1;
            grid-column: 1;
            align-self: end;
            text-align: end;
            font-weight: var(--font-weight-bold);
            padding-bottom: 4px;
         }

         & .end-month {
            font-size: 1rem;
            grid-row: 2;
            grid-column: 1;
            align-self: end;
            text-align: end;
            font-weight: var(--font-weight-thin);
            height: 1rem;
         }

         & .start-date {
            padding-left: 4px;
            font-size: 2.6rem;
            grid-row: span 2;
            grid-column: 2;
            color: var(--special-color);
            font-weight: var(--font-weight-extrabold);
         }

         & .dash {
            font-size: 2rem;
            grid-row: span 2;
            grid-column: 3;
            align-self: end;
            font-weight: var(--font-weight-normal);
            color: var(--card-color-pastel);
            line-height: 1.3;
         }

         & .end-date {
            font-size: 1.8rem;
            grid-row: span 2;
            grid-column: 4;
            align-self: end;
            font-weight: var(--font-weight-semibold);
            color: var(--card-color-pastel);
            line-height: 1.2;
         }
      }

      & .week {

         &:hover {
            background-color: var(--button-background-hover);
            border-color: var(--card-background)
         }

         &:has(.active) {
            border-color: var(--border-color);
            background-color: var(--button-background-active);
         }

         & .today span {
            background-color: var(--card-color-pastel);
            color: var(--inner-card-background);
         }
      }
   }

   &[view="month"] {

      & #timetableDay,
      #timetableWeek {
         display: none;
      }
   }
}